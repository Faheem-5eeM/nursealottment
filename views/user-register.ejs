<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Registration</title>
    <link rel="stylesheet" href="css/form.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-content">
                <div class="header-image">
                    <img src="images/the-human-icon-and-logo-vector.jpg" alt="Doctor">
                </div>
                <div class="header-text">
                    <h1>New Patient Enrollment</h1>
                    <p>Dr. Name</p>
                </div>
            </div>
        </div>
        <% if (error) { %>
            <div class="error-message" style="color: red; text-align: center; margin-block: 10px;">
                <%= error %>
            </div>
        <% } %>
        <form action="/postva" class="form-container" method="post">
            <div class="form-row">
                <div class="form-group">
                    <label for="firstName">First Name</label>
                    <input type="text" id="firstName" name="firstName" value="<%= formData ? formData.firstName : '' %>" required>
                </div>
                <div class="form-group">
                    <label for="lastName">Last Name</label>
                    <input type="text" id="lastName" name="lastName" value="<%= formData ? formData.lastName : '' %>" required>
                </div>
            </div>
        
            <div class="form-row">
                <div class="form-group">
                    <label for="dob">Date of Birth</label>
                    <input type="date" id="dob" name="dob" value="<%= formData ? formData.dob : '' %>" required>
                </div>
                <div class="form-group">
                    <label for="gender">Sex</label>
                    <select id="gender" name="gender" required>
                        <option value="" <%= !formData || !formData.gender ? 'selected' : '' %>>Please Select</option>
                        <option value="male" <%= formData && formData.gender === 'male' ? 'selected' : '' %>>Male</option>
                        <option value="female" <%= formData && formData.gender === 'female' ? 'selected' : '' %>>Female</option>
                        <option value="other" <%= formData && formData.gender === 'other' ? 'selected' : '' %>>Other</option>
                    </select>
                </div>
            </div>
        
            <div class="form-row">
                <div class="form-group">
                    <label for="height">Height (inches)</label>
                    <input type="number" id="height" name="height" value="<%= formData ? formData.height : '' %>" required>
                </div>
                <div class="form-group">
                    <label for="weight">Weight (pounds)</label>
                    <input type="number" id="weight" name="weight" value="<%= formData ? formData.weight : '' %>" required>
                </div>
            </div>
        
            <div class="form-group">
                <label for="adhaar">Aadhaar Number</label>
                <input type="text" id="adhaar" name="adhaar" maxlength="13" value="<%= formData ? formData.adhaar : '' %>" required>
            </div>
        
            <div class="form-group">
                <label for="maritalStatus">Marital Status</label>
                <select id="maritalStatus" name="maritalStatus" required>
                    <option value="" <%= !formData || !formData.maritalStatus ? 'selected' : '' %>>Please Select</option>
                    <option value="single" <%= formData && formData.maritalStatus === 'single' ? 'selected' : '' %>>Single</option>
                    <option value="married" <%= formData && formData.maritalStatus === 'married' ? 'selected' : '' %>>Married</option>
                    <option value="divorced" <%= formData && formData.maritalStatus === 'divorced' ? 'selected' : '' %>>Divorced</option>
                    <option value="widowed" <%= formData && formData.maritalStatus === 'widowed' ? 'selected' : '' %>>Widowed</option>
                </select>
            </div>
        
            <div class="form-row">
                <div class="form-group">
                    <label for="contact">Contact Number</label>
                    <input type="tel" id="contact" name="contact" placeholder="(555) 555-5555" value="<%= formData ? formData.contact : '' %>" required>
                </div>
                <div class="form-group">
                    <label for="email">E-mail</label>
                    <input type="email" id="email" name="email" value="<%= formData ? formData.email : '' %>" required>
                </div>
            </div>
        
            <div class="form-group">
                <label for="address">Address</label>
                <textarea id="address" name="address" required><%= formData ? formData.address : '' %></textarea>
            </div>
        
            <div class="section-title">Taking any medications, currently?</div>
            <div class="radio-group">
                <label>
                    <input type="radio" name="medications" value="yes" <%= formData && formData.medications === 'yes' ? 'checked' : '' %>> Yes
                </label>
                <label>
                    <input type="radio" name="medications" value="no" <%= formData && formData.medications === 'no' ? 'checked' : '' %>> No
                </label>
            </div>
        
            <div class="section-title">Additional Information</div>
            <div class="form-row">
                <div class="form-group">
                    <label for="age">Age</label>
                    <input type="number" id="age" name="age" value="<%= formData ? formData.age : '' %>" required>
                </div>
                <div class="form-group">
                    <label for="diseaseDuration">Suffering From Disease Since (Years)</label>
                    <input type="number" id="diseaseDuration" name="diseaseDuration" value="<%= formData ? formData.diseaseDuration : '' %>" required>
                </div>
            </div>
        
            <div class="form-group">
                <label for="medicalDescription">Medical Description</label>
                <textarea id="medicalDescription" name="medicalDescription" required><%= formData ? formData.medicalDescription : '' %></textarea>
            </div>
        
            <div class="form-group">
                <label for="location">Location</label>
                <input type="text" id="location" name="location" value="<%= formData ? formData.location : '' %>" required>
            </div>
        
            <div class="form-group">
                <label for="languages">Languages Spoken</label>
                <input type="text" id="languages" name="languages" value="<%= formData ? formData.languages : '' %>" required>
            </div>
        
            <div class="form-group">
                <label for="preferredNurse">Preferred Nurse</label>
                <input type="text" id="preferredNurse" name="preferredNurse" value="<%= formData ? formData.preferredNurse : '' %>" required>
            </div>
        
            <button type="submit">SUBMIT</button>
        </form>
        <% if (error) { %>
            <div class="error-message" style="color: red; text-align: center; margin-block: 10px;">
                <%= error %>
            </div>
        <% } %>
    </div>  
</body>
</html>
